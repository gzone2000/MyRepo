Elasticsearch URL Search


ㅇ 실습 환경
   # VirtualBox VM 
   - 1 CPU , 2048M Mem
   - IP : 192.168.63.101 (Host-Only)
   - IP : 10.0.2.15 (NAT)
   # Elasticsearch-6.7.2  and Kibana-6.7.2 기동 완료

ㅇ kibana 접속 http://192.168.63.101:5601 > DevTools > Console에서 실습



1. javabooks 인덱스, _doc 타입에서 Schildt 검색

	GET /javabooks/_doc/_search?q=Schildt


2. javabooks 인덱스 Schildt 검색

	GET /javabooks/_search?q=Schildt


3. Multi-Tenancy는 여러 index에서 동시 검색 기능

	index,index로 표시
	javabooks, pythonbooks 인덱스에서 Beginner 검색

	GET /javabooks,pythonbooks/_search?q=Beginner


4. 인덱스 지정을 생략, 전체 인덱스에서 Beginner 검색

	GET /_search?q=Beginner


5. 전체 인덱스의 title 필드에서 Beginner 검색

	특정 필드 검색하려면 q=필드명:질의어 형식 지정

	GET /_search?q=title:Beginner


6. title에 Beginner, Java 을 AND 조건 검색

	%20은 공백 대신 공백의 url인 코딩값

	GET /_search?q=title:Beginner%20AND%20Java


7. title에 Beginner, Java 을 OR 조건 검색

	GET /_search?q=title:Beginner%20OR%20Java


8. pages 필드를 기준으로 오름차순 정렬

	GET /javabooks/_search?q=title:Edition&sort=pages


9. pages 필드를 기준으로 내림차순 정렬

	GET /javabooks/_search?q=title:Edition&sort=pages:desc


10. Elasticsearch Request body Search

	소문자로 해야 한다.

	GET /javabooks/_search
	{
		"query" : {
	    		"term" : { "author" : "schildt" }
		}
	}


11. size로 출력 제한

	GET /javabooks/_search
	{
		"size":5
	}


12. _source로 title과 pag으로 시작 하는 필드명의 값 표시:  선택된 필드만 보임.

	GET /pythonbooks/_search
	{
		"_source": ["title","pag*"]
	}


13. Delete By Query로 document 삭제

	POST /javabooks/_delete_by_query
	{
		"query": {
			"term": {
				"author" : "schildt"
			}
		}
	}

	GET /javabooks/_search
	{
		"query": {
			"term": {
				"author" : "schildt"
			}
		}
	}


